/*
 * GT Sniper - CSS Responsivo Mobile & Desktop
 * Adaptação automática para todos os dispositivos
 */

/* ========================================
   MOBILE-FIRST BASE STYLES
   ======================================== */

* {
  box-sizing: border-box;
}

html {
  font-size: 16px; /* Base para rem */
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  max-width: 100vw;
}

/* Container principal responsivo */
#root {
  width: 100%;
  min-height: 100vh;
  overflow-x: hidden;
}

/* ========================================
   MOBILE (até 768px) - Smartphones
   ======================================== */

@media (max-width: 768px) {
  /* Font sizes menores para mobile */
  html {
    font-size: 14px;
  }

  /* Header e Navbar */
  header, nav {
    padding: 0.5rem !important;
    flex-wrap: wrap !important;
  }

  nav a, nav button {
    font-size: 0.9rem !important;
    padding: 0.4rem 0.6rem !important;
    margin: 0.2rem !important;
  }

  /* Logo/Título menor */
  h1 {
    font-size: 1.5rem !important;
  }

  h2 {
    font-size: 1.3rem !important;
  }

  h3 {
    font-size: 1.1rem !important;
  }

  /* Containers e Cards */
  .container,
  .main-container,
  [class*="container"] {
    padding: 0.5rem !important;
    margin: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Cards de Sinais */
  .signal-card,
  .card,
  [class*="signal"],
  [class*="card"] {
    width: 100% !important;
    margin: 0.5rem 0 !important;
    padding: 0.75rem !important;
    flex-direction: column !important;
  }

  /* Grid de sinais vira coluna única */
  .signals-grid,
  .grid,
  [class*="grid"] {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.5rem !important;
    grid-template-columns: 1fr !important;
  }

  /* Tabelas responsivas */
  table {
    font-size: 0.85rem !important;
    display: block !important;
    overflow-x: auto !important;
    white-space: nowrap !important;
    -webkit-overflow-scrolling: touch !important;
  }

  table thead {
    display: none !important; /* Esconde cabeçalho em mobile */
  }

  table tr {
    display: block !important;
    margin-bottom: 1rem !important;
    border: 1px solid #333 !important;
    border-radius: 8px !important;
    padding: 0.5rem !important;
  }

  table td {
    display: block !important;
    text-align: right !important;
    padding: 0.5rem !important;
    border: none !important;
    position: relative !important;
    padding-left: 50% !important;
  }

  table td::before {
    content: attr(data-label) !important;
    position: absolute !important;
    left: 0.5rem !important;
    font-weight: bold !important;
    text-align: left !important;
  }

  /* Botões ocupam linha inteira */
  button,
  .button,
  [class*="button"],
  [class*="btn"] {
    width: 100% !important;
    padding: 0.75rem !important;
    margin: 0.25rem 0 !important;
    font-size: 1rem !important;
  }

  /* Inputs e Forms */
  input,
  select,
  textarea {
    width: 100% !important;
    padding: 0.75rem !important;
    font-size: 1rem !important;
    margin: 0.25rem 0 !important;
  }

  /* Imagens responsivas */
  img {
    max-width: 100% !important;
    height: auto !important;
    display: block !important;
  }

  /* Ícones menores */
  svg,
  i,
  .icon {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }

  /* Modais/Popups */
  .modal,
  .popup,
  [class*="modal"],
  [class*="popup"] {
    width: 95% !important;
    max-width: 95vw !important;
    margin: 0.5rem auto !important;
    padding: 1rem !important;
  }

  /* Flexbox para mobile */
  .flex,
  [class*="flex"] {
    flex-direction: column !important;
    align-items: stretch !important;
  }

  /* Esconde elementos desnecessários em mobile */
  .desktop-only,
  [class*="desktop-only"] {
    display: none !important;
  }

  /* Sidebar vira menu hamburguer */
  .sidebar,
  aside,
  [class*="sidebar"] {
    position: fixed !important;
    left: -100% !important;
    top: 0 !important;
    width: 80% !important;
    height: 100vh !important;
    transition: left 0.3s ease !important;
    z-index: 1000 !important;
  }

  .sidebar.open {
    left: 0 !important;
  }

  /* Gráficos responsivos */
  canvas,
  .chart,
  [class*="chart"] {
    max-width: 100% !important;
    height: auto !important;
    min-height: 200px !important;
  }

  /* Estatísticas em coluna */
  .stats,
  .statistics,
  [class*="stat"] {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.5rem !important;
  }

  .stat-item,
  [class*="stat-item"] {
    width: 100% !important;
    padding: 0.5rem !important;
    margin: 0.25rem 0 !important;
  }

  /* Padding e Margin ajustados */
  .p-4, .p-5, .p-6 {
    padding: 0.75rem !important;
  }

  .m-4, .m-5, .m-6 {
    margin: 0.5rem !important;
  }

  /* ScrollBar mais fina */
  ::-webkit-scrollbar {
    width: 4px !important;
    height: 4px !important;
  }
}

/* ========================================
   TABLET (769px - 1024px)
   ======================================== */

@media (min-width: 769px) and (max-width: 1024px) {
  html {
    font-size: 15px;
  }

  /* Grid de 2 colunas em tablets */
  .signals-grid,
  .grid,
  [class*="grid"] {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 1rem !important;
  }

  /* Containers com padding médio */
  .container,
  [class*="container"] {
    padding: 1rem !important;
  }

  /* Cards menores */
  .card,
  .signal-card {
    padding: 1rem !important;
  }

  /* Tabelas com scroll horizontal */
  table {
    display: table !important;
    overflow-x: auto !important;
    font-size: 0.9rem !important;
  }

  /* Botões com largura automática */
  button,
  .button {
    width: auto !important;
    min-width: 120px !important;
  }
}

/* ========================================
   DESKTOP (acima de 1024px)
   ======================================== */

@media (min-width: 1025px) {
  /* Grid de 3 colunas em desktop */
  .signals-grid,
  [class*="grid"] {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 1.5rem !important;
  }

  /* Containers com largura máxima */
  .container,
  [class*="container"] {
    max-width: 1400px !important;
    margin: 0 auto !important;
    padding: 1.5rem !important;
  }

  /* Mostra elementos desktop */
  .mobile-only {
    display: none !important;
  }
}

/* ========================================
   DESKTOP LARGE (acima de 1440px)
   ======================================== */

@media (min-width: 1441px) {
  html {
    font-size: 18px;
  }

  /* Grid de 4 colunas em telas grandes */
  .signals-grid,
  [class*="grid"] {
    grid-template-columns: repeat(4, 1fr) !important;
  }

  .container,
  [class*="container"] {
    max-width: 1600px !important;
  }
}

/* ========================================
   ORIENTAÇÃO - Landscape Mobile
   ======================================== */

@media (max-width: 768px) and (orientation: landscape) {
  /* Ajusta altura em landscape */
  .container,
  [class*="container"] {
    max-height: 90vh !important;
    overflow-y: auto !important;
  }

  /* Header menor em landscape */
  header, nav {
    padding: 0.25rem !important;
  }

  /* Grid de 2 colunas em landscape mobile */
  .signals-grid,
  [class*="grid"] {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* ========================================
   UTILITÁRIOS RESPONSIVOS
   ======================================== */

/* Touch-friendly - Áreas de toque maiores */
@media (max-width: 768px) {
  a, button, input[type="checkbox"], input[type="radio"] {
    min-height: 44px !important; /* Recomendação Apple/Google */
    min-width: 44px !important;
  }
}

/* Prevent zoom on input focus (iOS) */
@media (max-width: 768px) {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  select,
  textarea {
    font-size: 16px !important; /* Previne zoom no iOS */
  }
}

/* Safe areas para notch (iPhone X+) */
@supports (padding: max(0px)) {
  body {
    padding-left: max(0px, env(safe-area-inset-left)) !important;
    padding-right: max(0px, env(safe-area-inset-right)) !important;
    padding-bottom: max(0px, env(safe-area-inset-bottom)) !important;
  }
}

/* ========================================
   ANIMAÇÕES RESPONSIVAS
   ======================================== */

/* Reduz animações em mobile para performance */
@media (max-width: 768px) {
  * {
    animation-duration: 0.3s !important;
    transition-duration: 0.3s !important;
  }

  /* Desabilita animações complexas em mobile */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation: none !important;
      transition: none !important;
    }
  }
}

/* ========================================
   IMPRESSÃO
   ======================================== */

@media print {
  /* Remove elementos desnecessários na impressão */
  nav, header, aside, .sidebar, button {
    display: none !important;
  }

  /* Ajusta para impressão */
  * {
    background: white !important;
    color: black !important;
  }

  table {
    page-break-inside: avoid !important;
  }
}

/* ========================================
   DARK MODE (respeitando preferência do sistema)
   ======================================== */

@media (prefers-color-scheme: dark) {
  /* Já tem dark mode, mas garante boa legibilidade */
  body {
    background-color: #0a0a0a !important;
    color: #f0f0f0 !important;
  }
}

@media (prefers-color-scheme: light) {
  /* Caso usuário prefira light mode */
  body {
    background-color: #ffffff !important;
    color: #1a1a1a !important;
  }
}
